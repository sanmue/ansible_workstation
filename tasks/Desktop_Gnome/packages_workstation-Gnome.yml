# #########
# ### Gnome
# #########

# - gnome-shell-extensions... # -> separater Task (packages_workstation-gnomeshellstuff.yml

- name: Gnome - Install packages for workstations (Gnome, all)
  ansible.builtin.package:
    state: present
    name:
      - alacarte   # Menu editor for gnome
      - baobab   # A graphical directory tree analyzer
      - dconf-editor
      - gedit
      - gedit-plugins
      - gjs   # Javascript Bindings for GNOME   # + Ubnuntu: fehlendes Paket, damit ab 22.04 der Monitor in Engergiesparmodus kann
                                                # (Bildschirmausgabe wird ausgeschaltet nach längerer Inktivität)
      - gnome-calculator
      - gnome-disk-utility
      - gnome-keyring
      - gnome-terminal
      - inkscape   # Plasma: Krita
      # - kdeconnect   # -> ? gnome-shell-extension-gsconnect ?
      - rhythmbox
      - seahorse   # bereits standardmäßig installiert
      - tilix   # A tiling terminal emulator for Linux using GTK+ 3
      - totem # -> vlc
      # ---------
      # firmware:
      - gnome-firmware
  when:
    - env_desktop in ["gnome", "ubuntu:gnome"]


- name: Gnome - Install packages for workstations (Archlinux,Manjaro + Gnome)
  ansible.builtin.package:
    state: present
    name:
      - dconf
      # - deluge   # -> transmission-gtk
      - epiphany   # A GNOME web browser based on the WebKit rendering engin
      - evince   # Document viewer (PDF, PostScript, XPS, djvu, dvi, tiff, cbr, cbz, cb7, cbt)
      # - guake   # Drop-down terminal for GNOME
      - gtk-vnc   # VNC viewer widget for GTK
      - nemo
      - nemo-seahorse
      - nemo-share
      # - nemo-terminal
      - transmission-cli
      - transmission-gtk   # -> deluge
  when:
    - ansible_distribution == "Archlinux"
    - env_desktop == "gnome"

# nach bootstrap.sh veschoben
#
# - name: Gnome - Install ulauncher via pamac from AUR (Archlinux)
#  ansible.builtin.shell: pamac build --no-confirm ulauncher
#  args:
#    creates: "/home/{{ env_user }}/.ansible_gnome_pamacAUR-ulauncher"
#  when:
#    - ansible_distribution in ["Archlinux"]
#    - env_desktop == "gnome"

# - name: Gnome - ulauncher - create flag-file (Archlinux)
#  ansible.builtin.file:
#    path: "/home/{{ env_user }}/.ansible_gnome_pamacAUR-ulauncher"
#    state: touch
#    mode: '0644'
#  when:
#    - ansible_distribution in ["Archlinux"]
#    - env_desktop == "gnome"

# - name: Gnome - Install autokey-gtk via pamac from AUR (Archlinux)
#  ansible.builtin.shell: pamac build --no-confirm autokey-common autokey-gtk
#  args:
#    creates: "/home/{{ env_user }}/.ansible_gnome_pamacAUR-autokey"
#  when:
#    - ansible_distribution in ["Archlinux"]
#    - env_desktop == "gnome"

# - name: Gnome - autokey - create flag-file (Archlinux)
#  ansible.builtin.file:
#    path: "/home/{{ env_user }}/.ansible_gnome_pamacAUR-autokey"
#    state: touch
#    mode: '0644'
#  when:
#    - ansible_distribution in ["Archlinux"]
#    - env_desktop == "gnome"

- name: Gnome - Install packages for workstations (Manjaro + Gnome)
  ansible.builtin.package:
    state: present
    name:
      - gtkhash
      - gtkhash-nemo
      - nemo-bulk-rename
  when:
    - ansible_distribution == "Archlinux"
    - env_desktop == "gnome"
    - env_lsb_id == "ManjaroLinux"

# - name: Gnome - Install packages for workstations via pamac from AUR (Archlinux, NOT Manjaro)
#  ansible.builtin.shell: "pamac build --no-confirm gtkhash gtkhash-nemo && touch /home/{{ env_user }}/.ansible_gnome_pamacAUR-gtkhash"
#  args:
#    creates: "/home/{{ env_user }}/.ansible_gnome_pamacAUR-gtkhash"
#  when:
#    - ansible_distribution == "Archlinux"
#    - env_desktop == "gnome"
#    - env_lsb_id != "ManjaroLinux"


- name: Gnome - Install packages for workstations (Ubuntu + Gnome)
  ansible.builtin.package:
    state: present
    name:
      - autokey-gtk
      - dconf-cli
      - epiphany-browser
      - gnome-software-plugin-flatpak
      - gtkhash
      # - language-pack-gnome-de-base
      # - language-pack-gnome-de
      - language-pack-gnome-en-base
      - language-pack-gnome-en
      - nemo
      - transmission   # torrent client
      - ulauncher   # ppa wurde hinzugefügt
  when:
    - ansible_distribution == "Ubuntu"
    - env_desktop == "ubuntu:gnome"


- name: Gnome - Install packages for workstations (Suse + Gnome)
  ansible.builtin.package:
    state: present
    name:
      - gnome-icon-theme-extras
      - nemo
      - nemo-extension-pastebin
      - nemo-extension-seahorse
      - papirus-icon-theme
      - remmina-plugin-secret
      - transmission
      - transmission-gtk
      - ulauncher   # repo wurde hinzugefügt (TW)
  when:
    - ansible_os_family == "Suse"
    - env_desktop == "gnome"
