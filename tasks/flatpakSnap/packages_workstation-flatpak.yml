- name: install flatpak packages for workstations (all)
  tags: workstation,flatpak
  flatpak:
    name: '{{ item }}'
    state: present
    method: system
  with_items:
    - 'com.belmoussaoui.Authenticator'
    - 'com.github.tchx84.Flatseal'
    - 'de.willuhn.Jameica'
    - 'net.cozic.joplin_desktop'
    - 'de.haeckerfelix.Shortwave'


- name: install flatpak packages (Extension Manager) for Gnome (Gnome, all)
  tags: workstation,arch,flatpak
  flatpak:
    name: '{{ item }}'
    state: present
    method: system
  with_items:
    - 'org.gnome.Extensions'
    - 'com.mattjakeman.ExtensionManager'
  when:
    - env_desktop in ["gnome", "ubuntu:gnome"]
    

- name: install flatpak packages for workstations (Archlinux)
  tags: workstation,arch,flatpak
  flatpak:
    name: '{{ item }}'
    state: present
    method: system
  with_items:
    - 'net.ankiweb.Anki'
  when:
    - ansible_distribution in ["Archlinux"]


- name: install flatpak packages for workstations (Ubuntu)
  tags: workstation,ubuntu,flatpak
  flatpak:
    name: '{{ item }}'
    state: present
    method: system
  with_items:
    - 'com.brave.Browser'
    - 'org.chromium.Chromium'
    - 'com.discordapp.Discord'
    - 'org.mozilla.firefox'
    - 'com.github.johnfactotum.Foliate'
    - 'org.keepassxc.KeePassXC'
    - 'org.ksnip.ksnip'   # im Ksnip-Editor können noch ergänzngen (Markieren, Rahemen, ... gemacht werden; im ggs. zu "Screenshot")
    - 'org.libreoffice.LibreOffice'
    - 'com.nextcloud.desktopclient.nextcloud'
    - 'org.remmina.Remmina'
    - 'org.signal.Signal'
    - 'com.github.micahflee.torbrowser-launcher'
  when:
    - ansible_distribution in ["Ubuntu"]
